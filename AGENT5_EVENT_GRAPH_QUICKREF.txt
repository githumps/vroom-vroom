================================================================================
AGENT 5: BP_PoliceVehicle EVENT GRAPH - QUICK REFERENCE
================================================================================

AGGRESSIVE AI CHASE BEHAVIOR - SIMPLIFIED NODE DIAGRAM
Time to implement: 15 minutes

================================================================================
VARIABLES TO CREATE
================================================================================

PlayerReference         (Actor Object Reference)  [Default: None]
bIsChasing             (Boolean)                  [Default: FALSE]
DetectionRange         (Float)                    [Default: 3000.0]
AggressionChance       (Float)                    [Default: 0.95]

================================================================================
EVENT GRAPH - SECTION 1: EVENT BEGIN PLAY
================================================================================

EVENT BEGINPLAY
    |
    +---> SET TIMER BY FUNCTION NAME
    |     - Function Name: "DetectPlayer"
    |     - Time: 0.5
    |     - Looping: TRUE
    |
    +---> RANDOM FLOAT IN RANGE (0.0 - 1.0)
          |
          +---> FLOAT < FLOAT (Random < 0.95)
                |
                +---> BRANCH
                      |
                      TRUE ---> PRINT STRING
                                "POLICE ACTIVATED - AGGRESSION MODE ENGAGED"
                                (Red, Duration: 5.0)

================================================================================
EVENT GRAPH - SECTION 2: DETECT PLAYER FUNCTION
================================================================================

CREATE NEW FUNCTION: DetectPlayer

ENTRY
  |
  +---> GET ALL ACTORS OF CLASS
        - Class: BP_VroomCharacter
        |
        +---> FOREACH LOOP
              |
              +---> GET ACTOR LOCATION (Self)
              |     |
              |     +---> GET DISTANCE BETWEEN
              |           - Location A: Self
              +---> GET ACTOR LOCATION (Array Element)
                    |     - Location B: Player
                    +---> |
                          |
                          +---> FLOAT < FLOAT (Distance < 3000)
                                |
                                +---> BRANCH
                                      |
                                      TRUE ---> SET PlayerReference (Array Element)
                                                |
                                                +---> SET bIsChasing = TRUE
                                                      |
                                                      +---> PRINT STRING
                                                            "STOP RIGHT THERE, CRIMINAL SCUM!"
                                                            (Red, Duration: 3.0)
                                                            |
                                                            +---> RETURN NODE

================================================================================
EVENT GRAPH - SECTION 3: EVENT TICK (CHASE LOGIC)
================================================================================

METHOD A: AI MOVE TO (EASIER, RECOMMENDED)
--------------------------------------------

EVENT TICK
  |
  +---> BRANCH (bIsChasing == TRUE)
        |
        TRUE ---> IS VALID (PlayerReference)
                  |
                  +---> BRANCH (Is Valid == TRUE)
                        |
                        TRUE ---> AI MOVE TO ACTOR
                                  - Pawn: Self
                                  - Goal Actor: PlayerReference
                                  - Acceptance Radius: 200
                                  - Stop on Overlap: FALSE
                                  - Use Pathfinding: FALSE
                                  - Can Strafe: TRUE


METHOD B: MANUAL MOVEMENT (MORE AGGRESSIVE)
--------------------------------------------

EVENT TICK
  |
  +---> BRANCH (bIsChasing == TRUE AND PlayerReference Is Valid)
        |
        TRUE ---> GET ACTOR LOCATION (Self)
                  |                          |
                  +---> FIND LOOK AT ROTATION
                  |     - Start: Self Location
                  |     - Target: Player Location
                  +---> GET ACTOR LOCATION (PlayerReference)
                        |
                        +---> SET ACTOR ROTATION
                              - New Rotation: Look at Rotation
                              |
                              +---> GET FORWARD VECTOR (Self)
                                    |
                                    +---> ADD MOVEMENT INPUT
                                          - World Direction: Forward Vector
                                          - Scale Value: 1.0 (FULL THROTTLE)

================================================================================
EVENT GRAPH - SECTION 4: ARREST TRIGGER OVERLAP
================================================================================

RIGHT-CLICK ArrestTrigger COMPONENT ---> ADD EVENT ---> OnComponentBeginOverlap

ON COMPONENT BEGIN OVERLAP (ArrestTrigger)
  |
  +---> CAST TO BP_VroomCharacter
        - Object: Other Actor
        |
        CAST SUCCESS ---> SET bIsChasing = FALSE
                          |
                          +---> STOP MOVEMENT (Self)
                                |
                                +---> PRINT STRING
                                      "YOU'RE UNDER ARREST FOR: EXISTING"
                                      (Red, Duration: 2.0, Screen: TRUE)
                                      |
                                      +---> DELAY (Duration: 2.0)
                                            |
                                            +---> OPEN LEVEL (by Name)
                                                  - Level Name: "Courtroom"

================================================================================
SIMPLIFIED 5-MINUTE VERSION (MINIMUM VIABLE PRODUCT)
================================================================================

If you only have 5 minutes, implement this minimal version:

VARIABLES:
- PlayerReference (Actor)
- bIsChasing (Boolean)

EVENT BEGIN PLAY:
    Event BeginPlay
    ---> Set Timer by Function Name
         - Function Name: "DetectPlayer"
         - Time: 0.5
         - Looping: TRUE

DETECTPLAYER FUNCTION:
    Get All Actors of Class (BP_VroomCharacter)
    ---> Get (index 0)
    ---> Set PlayerReference
    ---> Set bIsChasing = TRUE

EVENT TICK:
    Event Tick
    ---> Branch (bIsChasing == TRUE)
         TRUE ---> AI Move To Actor
                   - Goal: PlayerReference
                   - Acceptance Radius: 200

ARREST TRIGGER:
    OnComponentBeginOverlap (ArrestTrigger)
    ---> Print String: "YOU'RE UNDER ARREST"
    ---> Delay (2.0)
    ---> Open Level ("Courtroom")

DONE. This gives you basic chase behavior in 5 minutes.

================================================================================
TESTING CHECKLIST
================================================================================

[1] Components Tab:
    [ ] PoliceMesh (Static Mesh - Cube)
    [ ] PoliceLight (Point Light - Blue)
    [ ] DetectionSphere (Sphere Collision, Radius: 3000)
    [ ] ArrestTrigger (Box Collision at front)

[2] Variables Tab:
    [ ] PlayerReference (Actor)
    [ ] bIsChasing (Boolean)
    [ ] DetectionRange (Float, 3000.0)
    [ ] AggressionChance (Float, 0.95)

[3] Event Graph:
    [ ] Event BeginPlay with Set Timer
    [ ] DetectPlayer function exists
    [ ] Event Tick with chase logic
    [ ] ArrestTrigger overlap event
    [ ] Blueprint compiles (green checkmark)

[4] In-Game Testing:
    [ ] Place BP_PoliceVehicle in level
    [ ] PIE (Alt+P)
    [ ] Approach police (within 3000 units)
    [ ] Police should start chasing
    [ ] Police should print messages
    [ ] On contact, should arrest
    [ ] Should transition to Courtroom

================================================================================
COMMON ERRORS AND SOLUTIONS
================================================================================

ERROR: "Accessed None trying to read property"
SOLUTION: Add "Is Valid" check before using PlayerReference

ERROR: Police not chasing
SOLUTION: Verify bIsChasing is set to TRUE in DetectPlayer function

ERROR: Timer not firing
SOLUTION: Check Function Name is EXACTLY "DetectPlayer" (case-sensitive)

ERROR: Cast fails
SOLUTION: Verify player class name is correct (BP_VroomCharacter)

ERROR: Arrest trigger not working
SOLUTION: Check "Generate Overlap Events" is TRUE in ArrestTrigger details

ERROR: Won't compile
SOLUTION: Check all Return nodes are connected, all pins are connected

================================================================================
NODE SHORTCUTS (FASTER IMPLEMENTATION)
================================================================================

Right-click in Event Graph and type:

"begin"           ---> Event BeginPlay
"tick"            ---> Event Tick
"timer"           ---> Set Timer by Function Name
"branch"          ---> Branch node
"cast"            ---> Cast to [class name]
"print"           ---> Print String
"get all"         ---> Get All Actors of Class
"foreach"         ---> ForEach Loop
"distance"        ---> Get Distance Between
"ai move"         ---> AI Move To Actor
"is valid"        ---> Is Valid
"open level"      ---> Open Level (by Name)
"delay"           ---> Delay
"set"             ---> Set [variable name]

================================================================================
AGGRESSION PARAMETERS
================================================================================

Detection Range:     3000 units  (extremely far)
Aggression Chance:   95%         (nearly guaranteed)
Detection Interval:  0.5 seconds (very frequent)
Chase Speed:         1.0         (full throttle)
Acceptance Radius:   200         (gets very close)
Pathfinding:         FALSE       (direct line pursuit)
Give Up Chance:      0%          (never stops)

RESULT: Police will detect player from far away, chase aggressively,
        and never stop until arrest is made.

        ESCAPE IS IMPOSSIBLE.

================================================================================
IMPLEMENTATION TIME BREAKDOWN
================================================================================

Python Script:           1 minute  (run configure_police_ai.py)
Create Variables:        2 minutes
Event BeginPlay:         3 minutes
DetectPlayer Function:   5 minutes
Event Tick:             5 minutes
Arrest Trigger:         5 minutes
Testing:                5 minutes
------------------------------------
TOTAL:                  26 minutes

Simplified MVP Version: 5 minutes (see above)

================================================================================
FINAL NOTES
================================================================================

1. Run configure_police_ai.py FIRST to add components automatically
2. Open BP_PoliceVehicle and verify components exist
3. Add Event Graph logic manually (cannot be automated)
4. Test frequently - compile after each section
5. Use Print String nodes liberally for debugging
6. Check Output Log if something doesn't work

This Event Graph configuration creates AGGRESSIVE police AI that:
- Detects player from 3000 units away
- Chases at full speed with 95% probability
- Never gives up chase
- Immediately arrests on contact
- Transitions to Courtroom level

JUSTICE IS INEVITABLE.
THE LAW NEVER SLEEPS.
BUILD THE EVENT GRAPH.

================================================================================
AGENT 5 QUICK REFERENCE COMPLETE
================================================================================
